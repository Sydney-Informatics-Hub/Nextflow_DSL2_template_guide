---
title: '**The template**'
from: markdown+emoji
---

We developed the Nextflow DSL2 template to aid beginners in learning Nextflow and developing their own workflows. The template employs a basic framework that allows users to customise and extend the workflow while adhering to code management best practices. 

The workflow code-base is organised into a number of different executable files and directories. This organisaiton promotes code modularity, reusability, maintainability, and clarity. Each executable file included in the template contains comment lines, links to relevant Nextflow documentation, and implementation examples. To apply the template to your own workflows, you will need to replace examples with your own code. 

Modularising the code base and splitting workflow processes and configuration files offers a few benefits: 

* Code organisation and maintainability
* Readability and clarity
* Collaboration 
* Testing and debugging
* Code reuse and extensibility

## **Set up**

Requirements: 

* A GitHub account 
* Installed on your chosen development environment: 
  * Nextflow (>v20.10.0)
  * Git 
  * Singularity 

### **Clone the template**

1. Open the [DSL2 template repository](https://github.com/Sydney-Informatics-Hub/Nextflow_DSL2_template) on GitHub
2. Select the <span style="color: green">Use this template</span> box and create a new repository 
3. Name your repository, ending in `-nf` (this is required by cookiecutter gh action)
4. Select the <span style="color: green">Create repository from template</span> box

Explain what cookiecutter will do. How to push and save changes to workflow code base using Git. 

### **Download Nextflow**

Depending on the system you're working on there are a few options for installing and running Nextflow including reproducible options like bioconda and Singularity. See [here](https://nf-co.re/usage/installation) for installation instructions. 

Once you have installed Nextflow, you can configure it to run on your system. This template only provides the standard `nextflow.config` file. See [here](https://www.nextflow.io/blog/2021/nextflow-developer-environment.html) for some set up tips.

## **Template structure**

Nextflow is highly flexible, allowing users to implement workflows in a number of different ways. In this template, we provide one common implementation for structuring your Nextflow code base in a way that is easy to maintain and read. 

The template's code repository is organised into a number of files and directories (see the [template components]() for details): 

```default
Nextflow_DSL2_template
├── LICENSE
├── README.md
├── bin
├── config
    ├── gadi.config
    ├── nimbus.config
    ├── setonix.config
    └── standard.config
├── main.nf
├── modules
│   ├── process1.nf
│   └── process2.nf
└── nextflow.config
```

The template includes the basic features of a Nextflow workflow to enable you to run workflows in a reproducible, portable, and transparent manner. Consider a basic Nextflow run command below, where a user will need to specify parameters and (optionally) a configuration [profile](https://www.nextflow.io/docs/latest/config.html#config-profiles):  

![](./figs/template_command.png)

* The `main.nf` file is the executable file that identifies the workflow structure, inputs, and processes to pull form the `modules/` directory. 
* The `--parameter` flag matches a parameter initialised in the `nextflow.config` file and applies it to the workflow execution. 
* The `-profile` flag is used to specify environment-specific configuration details such as a software implementation method and/or resource management.  

Running a workflow that follows this template will output: 

* A customisable execution message invoked when the workflow is run 
* A customisable help message invoked using `--help` or failing to supply a required parameter 
* A customisable completion message invoked when the workflow has finished running 
* Files generated by your processes, optionally these can be saved to a results directory 
* Workflow execution resource usage, trace, and timeline reports  
